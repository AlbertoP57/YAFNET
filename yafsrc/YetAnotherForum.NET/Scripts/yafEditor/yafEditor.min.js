function Button_Load(n){n.className="ButtonOut";n.onmouseover=function(){Button_Over(this)};n.onmouseout=function(){Button_Out(this)}}function Button_Over(n){n.className=typeof n._enabled!="boolean"||n._enabled?"ButtonOver":"ButtonOff"}function Button_Out(n){n.className=typeof n._enabled!="boolean"||n._enabled?typeof n._selected=="boolean"&&n._selected?"ButtonChecked":"ButtonOut":"ButtonOff"}function Button_SetState(n,t,i){var r=document.getElementById(t);try{r._selected=n.queryCommandState(i)}catch(u){r._selected=!1}r._enabled=n.queryCommandEnabled(i);r.className=r._enabled?r._selected?"ButtonChecked":"ButtonOut":"ButtonOff"}function wrapSelection(n,t){var i=window.editorCM.getSelection();i?window.editorCM.replaceSelection(n+i+t,"around"):window.editorCM.replaceSelection(n+t,"around")}function removeFromSelection(n,t){var i=window.editorCM.getSelection();window.editorCM.replaceSelection(i.replace(n,"").replace(t,""),"around")}function AlbumsPageSelectCallback(n){var t=jQuery("#AlbumsPagerHidden div.result:eq("+n+")").clone();return jQuery("#AlbumsPagerResult").empty().append(t),!1}var yafEditor=function(n){this.Name=n};yafEditor.prototype.FormatText=function(n,t){var i,u,r,f;switch(n){case"bold":wrapSelection("[b]","[/b]");break;case"italic":wrapSelection("[i]","[/i]");break;case"underline":wrapSelection("[u]","[/u]");break;case"highlight":wrapSelection("[h]","[/h]");break;case"code":wrapSelection("[code]","[/code]");break;case"codelang":wrapSelection("[code="+t+"]","[/code]");break;case"img":window.editorCM.getSelection()?wrapSelection("[img]","[/img]"):(i=prompt("Enter Image Url:","http://"),u=prompt("Enter Image Description:",""),u!=""&&u!=null&&i!=""&&i!=null?window.editorCM.replaceSelection("[img="+i+"]"+u+"[/img]","around"):i!=""&&i!=null&&window.editorCM.replaceSelection("[img]"+i+"[/img]","around"));break;case"quote":wrapSelection("[quote]","[/quote]");break;case"justifyleft":wrapSelection("[left]","[/left]");break;case"justifycenter":wrapSelection("[center]","[/center]");break;case"justifyright":wrapSelection("[right]","[/right]");break;case"indent":wrapSelection("[indent]","[/indent]");break;case"outdent":window.editorCM.getSelection()&&removeFromSelection("[indent]","[/indent]");break;case"createlink":r=prompt("Enter URL:","http://");r!=""&&r!=null&&(window.editorCM.getSelection()?wrapSelection("[url="+r+"]","[/url]"):(f=prompt("Enter URL Description:",""),f!=""&&f!=null?window.editorCM.replaceSelection("[url="+r+"]"+f+"[/url]","around"):window.editorCM.replaceSelection("[url]"+r+"[/url]","around")));break;case"unorderedlist":wrapSelection("[list][*]","[/list]");break;case"orderedlist":wrapSelection("[list=1][*]","[/list]");break;case"color":wrapSelection("[color="+t+"]","[/color]");break;case"fontsize":wrapSelection("[size="+t+"]","[/size]");break;case"AlbumImgId":window.editorCM.replaceSelection("[albumimg]"+t+"[/albumimg]","around");break;default:wrapSelection("["+n+"]","[/"+n+"]")}};yafEditor.prototype.AddImage=function(){var n=prompt("Enter image URL:","http://"),t=prompt("Enter Image Description:","");t!=""&&t!=null?window.editorCM.replaceSelection("[img="+n+"]"+t+"[/img]","around"):n!=""&&n!=null&&window.editorCM.replaceSelection("[img]"+n+"[/img]","around")};yafEditor.prototype.InsertSmiley=function(n){window.editorCM.replaceSelection(n,"around")};jQuery(document).ready(function(){if(jQuery("#AlbumsListPager").length){var n=jQuery("#AlbumsPagerHidden div.result").length;jQuery("#AlbumsListPager").pagination(n,{callback:AlbumsPageSelectCallback,items_per_page:1,num_display_entries:3,num_edge_entries:1,prev_class:"smiliesPagerPrev",next_class:"smiliesPagerNext",prev_text:"&laquo;",next_text:"&raquo;"})}});$(document).ready(function(){window.editorCM=CodeMirror.fromTextArea($(".BBCodeEditor,.basicBBCodeEditor")[0],{mode:"bbcode",tabSize:2,indentUnit:2,indentWithTabs:!1,lineNumbers:!0,lineWrapping:!0,extraKeys:{"Ctrl-B":function(){wrapSelection("[b]","[/b]")},"Ctrl-I":function(){wrapSelection("[i]","[/i]")},"Ctrl-U":function(){wrapSelection("[u]","[/u]")},"Ctrl-Q":function(){wrapSelection("[quote]","[/quote]")},"Ctrl-Enter":function(){$('[id *= "QuickReply"]').length?$('[id *= "QuickReply"]').click():$('[id *= "PostReply"]').length&&(window.location.href=$('[id *= "PostReply"]').attr("href"))}}})});